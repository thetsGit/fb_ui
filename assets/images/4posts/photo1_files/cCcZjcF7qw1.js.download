if (self.CavalryLogger) { CavalryLogger.start_js(["Ddd0+kj"]); }

__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControlsImplMusicClip_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplMusicClip_video",selections:[{alias:null,args:null,concreteType:"XFBMusicAttachmentMetadata",kind:"LinkedField",name:"music_attachment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerPlaybackRateControlNUXQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:8778}],b={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerPlaybackRateControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[b],storageKey:"nux(nux_id:8778)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerPlaybackRateControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:8778)"}]},params:{id:"4438274889521105",metadata:{},name:"useVideoPlayerPlaybackRateControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.disablePlaybackControls,f=a.expandControl,g=a.isAdVideo,j=a.isControlsVisible,k=a.isExpandControlVisible,l=a.isVolumeControlVisible,m=a.isWatchAndScrollControlVisible,n=a.isWatchAndScrollDisabled,o=a.onUserInteraction,p=a.reactionVideoChannelType,q=a.shouldHideRewindControls,r=a.subOrigin,s=a.video;a=a.videoTahoeUrl;s=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),s);var t=c("gkx")("976093");return i.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:e,expandControl:f,isControlsVisible:j,isExpandControlVisible:k,isVolumeControlVisible:l,isWatchAndScrollControlVisible:m,onUserInteraction:o,reactionVideoChannelType:p,shouldHideRewindControls:q,shouldRenderCastControl:!g,shouldRenderWatchAndScrollControl:!t&&!g&&n!==!0,subOrigin:r,video:s,videoTahoeUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerPlaybackRateControlNUX",["cr:11881"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11881")}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","CometRelay","CometTrackingNodeProvider.react","PlaybackSpeedExperiments","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerJoinOnPortalControl.react","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","cr:1790881","cr:1809777","emptyFunction","gkx","nux:31","qex","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerPlaybackRateControlNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useState,l=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1790881"):null,m=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1809777"):null,n={nux:{maxWidth:"nqmqzb3c"}};function a(a){var e,f=a.disablePlaybackControls,g=a.expandControl,o=a.isAdVideo,p=a.isControlsVisible,q=a.isExpandControlVisible,r=a.isVolumeControlVisible,s=a.isWatchAndScrollControlVisible,t=a.isWatchAndScrollDisabled,u=a.onUserInteraction,v=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),a);var w=d("VideoPlayerHooks").useShouldShowPlaybackRateControl();w=d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlNUX()&&["discover","entry_point"].includes(v)&&w;w=c("useVideoPlayerPlaybackRateControlNUX")(w);var x=w[0];w=w[1];var y=(a==null?void 0:a.recipient_group)!=null&&(a==null?void 0:a.captions_url)!=null;y=y&&((y=c("qex")._("375"))!=null?y:!1);e=(e=b("nux:31")==null?void 0:b("nux:31")("comet_group_video_caption_setting"))!=null?e:c("emptyFunction");e=e({align:"end",arrowStyle:"inset",hasCloseButton:!0,label:h._("New! Use Settings to turn on auto-generated captions."),position:"above",type:"accent",xstyle:n.nux},y);y=c("useVideoPlayerBigPlayButtonOverlay")();y=y.bigPlayButtonIsVisible;p=!e&&w||p;s=s||p||f===!0&&!y;q=q||f===!0&&!o&&!y;y=c("gkx")("976093");var z=d("VideoPlayerHooks").useCaptionsLoaded();z=z?(z=c("qex")._("63"))!=null?z:!1:!1;var A=d("VideoPlayerHooks").useCaptionsVisible();y=!y&&!o&&t!==!0&&a!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:s,children:j.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:v,video:a})}):null;t=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,noPaddingEnd:!0,children:j.jsx(c("VideoPlayerJoinOnPortalControl.react"),{isVisible:p})});s=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!e&&w||q,noPaddingEnd:!0,noPaddingStart:!0,children:g});w=k(null);q=w[0];g=w[1];return j.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:p,children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{}),f===!0?null:j.jsx(c("VideoPlayerPlaybackTimer.react"),{}),l!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,children:j.jsx(l,{onUserInteraction:u})}):null]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:p&&!f,children:j.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:u,video:a})}),j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,noPaddingEnd:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:j.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:q,onUserInteraction:u,ref:(w=e)!=null?w:x,setMenuOpened:g})})}),z?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,children:j.jsx(c("VideoPlayerCaptionsControl.react"),{captionsVisible:A,menuOpened:q,onUserInteraction:u,setMenuOpened:g,video:a})}):null,!o&&a!=null?j.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:p&&!f,subOrigin:v}):null,s,t,y,m!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:j.jsx(m,{enableNUX:d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlHeadroomTestNUX()&&["discover","entry_point"].includes(v),onUserInteraction:u})}):null,j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:m?!0:r,noPaddingStart:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:u})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MusicSproutPlayerPlaybackTimer.react",["VideoPlayerHooks","getFormattedTimestamp","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=function(){return d("VideoPlayerHooks").useCurrentTimeThrottled(200)};function a(a){a=a.startTimeSeconds;var b=i();b=b-a;return h.jsx("div",{className:"pzggbiyp ekzrdaps oqcyycmt j9fc33cd hnxzwevs qq4y78aw ejgyrxq3 q6iep4d8 sq6gx45u q9uorilb ljqsnud1",children:h.jsx("span",{className:"odlk74j0 lrazzd5p",children:c("getFormattedTimestamp")(b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplMusicClip.react",["CometRelay","MusicSproutPlayerPlaybackTimer.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplMusicClip_video.graphql","VideoPlayerHooks","VideoPlayerPlaybackControl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l=1e3,m=0,n=30,o=30;function a(a){var e;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplMusicClip_video.graphql"),a);e=a==null?void 0:(e=a.music_attachment_metadata)==null?void 0:e.start_time_ms;a=a==null?void 0:(a=a.music_attachment_metadata)==null?void 0:a.end_time_ms;var f=m,g=n;e!=null&&a!=null&&(f=Math.round(e/l),g=Math.round(a/l));g>f+o&&(g=f+o);var p=d("VideoPlayerHooks").useController();j(function(){p.seek(f),p.pause("product_initiated")},[p,f]);var q=k(null);j(function(){var a=p.subscribe(function(){var a=p.getPlayheadPosition();a!==q.current&&(q.current=a,a>g&&(p.seek(f),p.pause("product_initiated")))});return function(){a.remove()}},[p,f,g]);e=i.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:[i.jsx(c("MusicSproutPlayerPlaybackTimer.react"),{startTimeSeconds:f}),i.jsx(c("VideoPlayerPlaybackControl.react"),{unmuteOnPlay:!0})]});return i.jsx("div",{className:"pmk7jnqg taijpn5t btwxx1t3 h0om2nat j83agx80 d2iitwg3 bp9cbjyn",children:i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:!0,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerPlaybackRateControlNUXImpl",["fbt","VideoPlayerHooks","useCometCalloutNUX"],(function(a,b,c,d,e,f,g,h){"use strict";b={nux:{maxWidth:"nqmqzb3c"}};var i={align:"end",arrowStyle:"inset",hasCloseButton:!0,label:h._("New! Now you can control the playback speed of the video you're watching."),position:"above",type:"accent",xstyle:b.nux};function a(a,b){var e=d("VideoPlayerHooks").usePlaying();e=e&&b;return[c("useCometCalloutNUX")(a,i,e),e]}g["default"]=a}),98);
__d("useVideoPlayerPlaybackRateControlNUX.evil",["RelayHooks","react","useVideoPlayerPlaybackRateControlNUXImpl","useVideoPlayerPlaybackRateControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;e=d("react");var i=e.useEffect,j=e.useState,k="8778",l=h!==void 0?h:h=b("useVideoPlayerPlaybackRateControlNUXQuery.graphql");function a(a){var b=j(null),e=b[0],f=b[1],g=d("RelayHooks").useRelayEnvironment();i(function(){if(a&&e===null){var b=d("RelayHooks").fetchQuery(g,l,{fetchPolicy:"store-or-network"}).subscribe({next:function(a){a=(a==null?void 0:(a=a.nux)==null?void 0:a.should_show)||!1;f(a)}});return function(){b.unsubscribe()}}},[g,a,e]);return c("useVideoPlayerPlaybackRateControlNUXImpl")(k,e===!0&&a)}g["default"]=a}),98);