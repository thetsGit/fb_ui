if (self.CavalryLogger) { CavalryLogger.start_js(["fJE8QkF"]); }

__d("CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerNextMediaFetcher_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"useCometNoCursorMediaSetViewerNextMediaURL_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset",selections:[{args:null,kind:"FragmentSpread",name:"useCometNoCursorMediaSetViewerPrevMediaURL_mediaset"}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerLayout_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometNoCursorMediaSetViewerRenderer_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNoCursorMediaSetViewerRenderer_mediaset",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometNoCursorMediaSetViewerNextMediaFetcher_mediaset"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset"}]}],type:"MediaSet",abstractKey:"__isMediaSet"};e.exports=a}),null);
__d("CometPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],c=[a];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_photo",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:"user_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"additional_profile_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:"page_shop_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null},{kind:"InlineDataFragmentSpread",name:"FBShopsLegacyUpgradeProductTaggingUtils_page",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"legacy_shop_upgrade_admin_and_page_eligibility",storageKey:null},{alias:"friction_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_friction"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:b,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_friction")'},{alias:"blocking_gk",args:[{kind:"Literal",name:"gk_name",value:"fb_shops_legacy_shop_product_tagging_block"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:b,storageKey:'gk_check(gk_name:"fb_shops_legacy_shop_product_tagging_block")'}]}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:c,storageKey:null},{alias:null,args:[{kind:"Variable",name:"glb_file_uri_hack_to_render_as_3D_DO_NOT_USE",variableName:"glbFileURIHackToRenderAs3D_DO_NOT_USE"},{kind:"Literal",name:"supported",value:["XFBCometImmersive360PhotoRenderer","XFBCometImmersive3DPhotoRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_photo_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo_photo_renderer",fragmentName:"CometRemote360PhotoViewerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometImmersive360PhotoRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo_photo_renderer",fragmentName:"CometRemote3DPhotoViewerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometImmersive3DPhotoRenderer",abstractKey:null}],storageKey:null},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];a=[{alias:"nextMediaAfterNodeId",args:[{kind:"Variable",name:"media_id",variableName:"nodeID"}],concreteType:null,kind:"LinkedField",name:"media_after",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCometMediaURL_media"}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"nodeID"}],kind:"Fragment",metadata:null,name:"useCometNoCursorMediaSetViewerNextMediaURL_mediaset",selections:[{kind:"InlineFragment",selections:a,type:"GenericMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfFamilyMemberMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaUploadedByUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaAttachmentMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedInAlbumMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaContainerMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ProfileFrameMediaSet",abstractKey:null}],type:"MediaSet",abstractKey:"__isMediaSet"}}();e.exports=a}),null);
__d("useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];a=[{alias:"prevMediaBeforeNodeId",args:[{kind:"Variable",name:"media_id",variableName:"nodeID"}],concreteType:null,kind:"LinkedField",name:"media_before",plural:!1,selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCometMediaURL_media"}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"nodeID"}],kind:"Fragment",metadata:null,name:"useCometNoCursorMediaSetViewerPrevMediaURL_mediaset",selections:[{kind:"InlineFragment",selections:a,type:"GenericMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfFamilyMemberMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedMediaOfUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaUploadedByUserMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaAttachmentMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"TaggedInAlbumMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"MediaContainerMediaSet",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ProfileFrameMediaSet",abstractKey:null}],type:"MediaSet",abstractKey:"__isMediaSet"}}();e.exports=a}),null);
__d("useCastMediaIfCastSessionActive_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCastMediaIfCastSessionActive_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerLayout_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerLayout_media",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewer_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("CometMediaViewerVideoPlayerSurface_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerVideoPlayerSurface_data",selections:[a,{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlay_data"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("CometMediaViewer_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"framework",value:"WARNING_SCREENS"},b=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE"}],kind:"Fragment",metadata:null,name:"CometMediaViewer_media",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{args:[{kind:"Variable",name:"glbFileURIHackToRenderAs3D_DO_NOT_USE",variableName:"glbFileURIHackToRenderAs3D_DO_NOT_USE"}],kind:"FragmentSpread",name:"CometPhotoViewer_photo"}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[a,{kind:"Literal",name:"location",value:"fullscreen_video_player"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:b,storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"fullscreen_video_player")'},{args:null,kind:"FragmentSpread",name:"CometMediaViewerVideoPlayerSurface_data"},{args:null,kind:"FragmentSpread",name:"VideoPlayerRelay_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_pay_to_access_paywall",plural:!1,selections:[{args:null,documentName:"CometMediaViewer_media",fragmentName:"CometPayToAccessPaywallConditionalLoader_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null},{args:null,kind:"FragmentSpread",name:"useCastMediaIfCastSessionActive_media"}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nodeID"}],b=[{kind:"Variable",name:"id",variableName:"nodeID"}],c={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},d=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_textWithEntities"}],storageKey:null}],e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g=[f];g=[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[e,{kind:"InlineFragment",selections:g,type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[c,{kind:"InlineFragment",selections:d,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:d,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometMediaViewerContextSectionActionWrapperComposerQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[e,{kind:"InlineFragment",selections:[c,{kind:"InlineFragment",selections:g,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"},f],storageKey:null}]},params:{id:"4175796665777597",metadata:{},name:"CometMediaViewerContextSectionActionWrapperComposerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_media",selections:[{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSection_media"}]},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerComposer_media"}]}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerContextSectionActionWrapper_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerContextSectionActionWrapper_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_story_hideable_id",storageKey:null},{alias:null,args:null,concreteType:"BoostedComponent",kind:"LinkedField",name:"post_promotion_info",plural:!1,selections:[{args:null,documentName:"CometMediaViewerContextSectionActionWrapper_story",fragmentName:"LWICometStoryButton_postPromotionInfo",fragmentPropName:"postPromotionInfo",kind:"ModuleImport"}],storageKey:null}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometMediaViewerRightRail_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],d={alias:null,args:c,kind:"ScalarField",name:"can_viewer_react",storageKey:null},e={alias:null,args:c,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[b],storageKey:null},f={kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_feedback"}]};c={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,e,{alias:null,args:c,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},f],storageKey:null};var g={alias:null,args:null,concreteType:"CopyrightBannerInfo",kind:"LinkedField",name:"copyright_banner_info",plural:!1,selections:[{args:null,documentName:"CometMediaViewerRightRail_media",fragmentName:"CometCopyrightBanner_copyrightBannerInfo",fragmentPropName:"copyrightBannerInfo",kind:"ModuleImport"}],storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_media",selections:[a,{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_media"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_shareable"}]},{kind:"InlineFragment",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaUFI_tagReview"}]},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"attached_comment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_quilt_cap_contribution_container_comment",storageKey:null},c,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[c],storageKey:null}],storageKey:null},c,g],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,d,e,f],storageKey:null},g],type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometMediaViewerRightRail_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMediaViewerRightRail_story",selections:[{args:null,kind:"FragmentSpread",name:"CometMediaViewerContextSectionActionWrapper_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("useCometNoCursorMediaSetViewerNextMediaURL",["CometRelay","useCometMediaURL","useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNoCursorMediaSetViewerNextMediaURL_mediaset.graphql"),a);a=a==null?void 0:a.nextMediaAfterNodeId;var f=a==null?void 0:a.id;a=c("useCometMediaURL")(a,e);return[f,a]}g["default"]=a}),98);
__d("CometNoCursorMediaSetViewerNextMediaFetcher.react",["CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql","CometRelay","react","useCometNoCursorMediaSetViewerNextMediaURL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=a.mediaset,f=a.mediasetToken,g=a.onMediaObtained;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNoCursorMediaSetViewerNextMediaFetcher_mediaset.graphql"),e);e=c("useCometNoCursorMediaSetViewerNextMediaURL")(a,f);var j=e[0],k=e[1];i(function(){g(j,k)},[j,k,g]);return null}g["default"]=a}),98);
__d("useCometNoCursorMediaSetViewerPrevMediaURL",["CometRelay","useCometMediaURL","useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNoCursorMediaSetViewerPrevMediaURL_mediaset.graphql"),a);a=a==null?void 0:a.prevMediaBeforeNodeId;var f=a==null?void 0:a.id;a=c("useCometMediaURL")(a,e);return[f,a]}g["default"]=a}),98);
__d("CometNoCursorMediaSetViewerPrevMediaFetcher.react",["CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql","CometRelay","react","useCometNoCursorMediaSetViewerPrevMediaURL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=a.mediaset,f=a.mediasetToken,g=a.onMediaObtained;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNoCursorMediaSetViewerPrevMediaFetcher_mediaset.graphql"),e);e=c("useCometNoCursorMediaSetViewerPrevMediaURL")(a,f);var j=e[0],k=e[1];i(function(){g(j,k)},[j,k,g]);return null}g["default"]=a}),98);
__d("CometMediaViewerReducer",["clamp"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"SET_IS_HOVERED":return babelHelpers["extends"]({},a,{isHovered:b.isHovered});case"SET_ZOOM":return babelHelpers["extends"]({},a,{prevScale:a.scale,scale:c("clamp")(a.scale*b.zoomFactor,1,2),translateX:b.zoomFactor<1?0:a.translateX,translateY:b.zoomFactor<1?0:a.translateY});case"DRAG_START":return babelHelpers["extends"]({},a,{prevMouseX:b.clientX,prevMouseY:b.clientY,prevScale:a.scale});case"DRAG":var d=b.clientX-a.prevMouseX,e=b.clientY-a.prevMouseY,f=Math.abs(b.currentRectSize[0]-b.width)/2,g=Math.abs(b.currentRectSize[1]-b.height)/2;b.currentRectSize[0]<b.width&&(d=0);b.currentRectSize[1]<b.height&&(e=0);d=d<0?Math.max(a.translateX+d,-f):Math.min(a.translateX+d,f);f=e<0?Math.max(a.translateY+e,-g):Math.min(a.translateY+e,g);return babelHelpers["extends"]({},a,{prevMouseX:b.clientX,prevMouseY:b.clientY,translateX:d,translateY:f})}return a}g["default"]=a}),98);
__d("CometMediaViewerVideoPlayerSurface.react",["CometMediaViewerVideoPlayerSurface_data.graphql","CometRelay","CometWarningScreenOverlay.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerSurface.react","cr:1404875","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e,f,g,j=d("VideoPlayerHooks").useIsFullscreen();a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewerVideoPlayerSurface_data.graphql"),a.data);e=a==null?void 0:(e=a.cix_screen)==null?void 0:e.view_model;f=a==null?void 0:(f=a.container_story)==null?void 0:f.id;g=(a==null?void 0:(g=a.preferred_thumbnail)==null?void 0:(g=g.image)==null?void 0:g.uri)!=null?a==null?void 0:(g=a.preferred_thumbnail)==null?void 0:(a=g.image)==null?void 0:a.uri:"#";return i.jsxs(c("VideoPlayerSurface.react"),{children:[i.jsx(c("VideoPlayerDefaultControls.react"),{}),e!=null&&f!=null&&!j&&i.jsx(c("CometWarningScreenOverlay.react"),{alwaysShowDetails:!0,data:e,isFullScreenMediaPlayerStyle:!0,mediaUri:g,surface:"fullscreen_video_player"}),b("cr:1404875")&&i.jsx(b("cr:1404875"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometPhotoViewerImgRenderer.react",["CometHeroHoldTrigger.react","CometImage.react","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useState,k={img:{objectFit:"r0294ipz"}};function l(a){var b=a.alt,d=a.currentImgSrc,e=a.height,f=a.origSrc,g=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["alt","currentImgSrc","height","origSrc","xstyle"]);var l=c("useStable")(function(){var a=new Image();a.src=d;return a}),m=j(l.complete),n=m[0],o=m[1];m=j(!1);var p=m[0],q=m[1];i(function(){if(l.complete)o(!0);else{l.onload=function(){o(!0)};l.onerror=function(){q(!0)};return function(){l.onload=null,l.onerror=null}}},[l,o,q]);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"Progressive Image",hold:!n&&!p&&f!=null}),h.jsx(c("CometImage.react"),babelHelpers["extends"]({},a,{alt:b,height:n||f==null?void 0:e,src:n||f==null?d:f,testid:void 0,xstyle:[g,k.img]}))]})}function a(a){return h.jsx(l,babelHelpers["extends"]({},a),a.currentImgSrc)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("NumAiSuggestionsBubbleImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746400");c=b("FalcoLoggerInternal").create("num_ai_suggestions_bubble_impression",a);e.exports=c}),null);
__d("ProductTagPhotoViewerDoneClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744225");c=b("FalcoLoggerInternal").create("product_tag_photo_viewer_done_click",a);e.exports=c}),null);
__d("CometPhotoViewer.react",["fbt","Actor","CometAIProductTagSuggestionsUtil.react","CometHero.react","CometImage.react","CometMediaViewerStage.react","CometPagelet.react","CometPhotoTaggingConstants","CometPhotoViewerContainerContext","CometPhotoViewerImgRenderer.react","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPhotoViewer_photo.graphql","CometPlaceholder.react","CometRelay","CometRouteParams","CometRouteRenderType","CometTheme.react","CometVisualCompletionAttributes","CometWarningScreenContext","FBShopsLegacyUpgradeProductTaggingUtils","JSResourceForInteraction","NumAiSuggestionsBubbleImpressionFalcoEvent","ProductTagPhotoViewerDoneClickFalcoEvent","TetraButton.react","TetraText.react","WebSession","deferredLoadComponent","orEmptyArray","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useCometLazyDialog","useCurrentRoute","useMediaViewerVPVDLogger","useMergeRefs","useRoutePassthroughProps","useStoryViewabilityLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.useRef,p=c("requireDeferred")("CometMediaTagFalcoEvent").__setRef("CometPhotoViewer.react");e=c("requireDeferred")("CometPhotoTagLayer.react").__setRef("CometPhotoViewer.react");var q=c("requireDeferredForDisplay")("CometPhotoViewerTopRightIcons.react").__setRef("CometPhotoViewer.react"),aa=c("JSResourceForInteraction")("CometPhotoViewerProductTagEducationDialog.react").__setRef("CometPhotoViewer.react"),ba=c("deferredLoadComponent")(e),ca=c("deferredLoadComponent")(q),r={container:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",position:"l9j0dhe7"},noPointerEvents:{pointerEvents:"hzruof5a"},peopleTagInstructionText:{paddingBottom:"ihqw7lf3"},productTagInstructions:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"btwxx1t3"},tagDoneDiv:{pointerEvents:"oqq733wu"},tagInstruction:{position:"pmk7jnqg",start:"kfkz5moi",transform:"cj5g2342"},tagInstructionRow:{alignItems:"aovydwv3",backgroundImage:"kpb67iw4",bottom:"i09qtzwb",display:"j83agx80",height:"fdipuqhw",justifyContent:"taijpn5t",paddingBottom:"jfpizvyy",pointerEvents:"hzruof5a",position:"pmk7jnqg",width:"k4urcfbm"},tagInstructionText:{alignItems:"bp9cbjyn",display:"j83agx80",paddingEnd:"rv4hoivh"},tagLayer:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"}},da=i!==void 0?i:i=b("CometPhotoViewer_photo.graphql");function a(a){var e,f,g,i,q,s,t,u,v=l(c("CometPhotoViewerViewStateDispatcherContext")),w=l(c("CometPhotoViewerViewStateContext")),x=c("useCometLazyDialog")(aa),ea=x[0];x=o(null);var y=d("Actor").useActor(),z=y[0];y[1];y=a.origHeight;var A=a.origSrc,B=a.origWidth,C=a.photo,D=a.photoTagLayerQueryReference,E=a.showTag;E=E===void 0?!1:E;var fa=a.storyRenderLocation,ga=babelHelpers.objectWithoutPropertiesLoose(a,["origHeight","origSrc","origWidth","photo","photoTagLayerQueryReference","showTag","storyRenderLocation"]),F=d("CometRelay").useFragment(da,C);C=k(function(){v({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"})},[v]);var G=F==null?void 0:(e=F.image)==null?void 0:e.uri,H=F==null?void 0:F.accessibility_caption,I=F==null?void 0:F.id,J=F==null?void 0:(e=F.owner)==null?void 0:e.id;e=c("orEmptyArray")(F==null?void 0:(e=F.tags)==null?void 0:e.edges);var K=o(new Set(e.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}))),L=F==null?void 0:F.created_time,M=F==null?void 0:(e=F.container_story)==null?void 0:e.post_id;e=(F==null?void 0:F.can_viewer_add_tags)===!0;f=F==null?void 0:(f=F.cix_screen)==null?void 0:f.view_model;var N=n(function(){return{authorId:J,createdTime:L,fbid:I,source:6,storyContainerId:M}},[J,L,I,M]);N=c("useMediaViewerVPVDLogger")(N);var O=N[0],P=N[1];N=F==null?void 0:(N=F.container_story)==null?void 0:N.encrypted_tracking;g=F==null?void 0:(g=F.container_story)==null?void 0:g.viewability_config;i=(i=F==null?void 0:F.container_story)!=null?i:{};i=i.client_view_config;i={can_delay_log_impression:i==null?void 0:i.can_delay_log_impression,use_banzai_signal_imp:i==null?void 0:i.use_banzai_signal_imp,use_banzai_vital_imp:i==null?void 0:i.use_banzai_vital_imp};i=c("useStoryViewabilityLogger")({clientViewConfig:i,disabledViewabilityEventTypes:[5],encryptedTracking:N,position:0,viewabilityConfig:g});N=i.ref;g=c("useMergeRefs")(O,N);i=d("CometPhotoViewerResponsiveInnerWrapper.react").useCometPhotoViewerContainerStyles();var Q=d("CometWarningScreenContext").useIsOverlayShown();O=d("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(F,w.knownAITags);N=d("CometAIProductTagSuggestionsUtil.react").getUntaggedUnknownTags(F,w.unknownAITags);var R=O.length+N.length,S=o(function(){b("NumAiSuggestionsBubbleImpressionFalcoEvent").log(function(){var a;return{creator_id:F==null?void 0:(a=F.owner)==null?void 0:a.page_id,media_id:I,media_type:"photo",platform:"comet",referral_source:"post_viewer"}})});m(function(){R>0&&(S.current&&S.current())},[R]);O=function(){var a;v({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"});if(I==null){c("recoverableViolation")("photo id can not be null","comet_feed");return}a=c("orEmptyArray")(F==null?void 0:(a=F.tags)==null?void 0:a.edges);a=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name});var e=d("WebSession").getId(),f=K.current.size?a.filter(function(a){return!K.current.has(a)}):a;T?b("ProductTagPhotoViewerDoneClickFalcoEvent").log(function(){return{container_post_id:M,creator_id:z,media_id:I,media_type:"photo",platform:"comet",referral_source:"post_viewer"}}):p.onReady(function(a){a.log(function(){return{media_fbid:I,num_users_tagged:f.length,session_id:e}})});K.current=new Set(a)};N=Boolean(F==null?void 0:(N=F.tags)==null?void 0:N.edges.some(function(a){return!(a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag)}));q=((F==null?void 0:(q=F.photo_product_tags)==null?void 0:q.length)||0)>0;s=Boolean(F==null?void 0:(s=F.owner)==null?void 0:s.page_shop_has_taggable_products)&&Boolean(F==null?void 0:(s=F.owner)==null?void 0:s.is_viewer_admin);t=F==null?void 0:(t=F.owner)==null?void 0:t.additional_profile_has_taggable_products;t=t!==null&&t!==void 0?Boolean(t)&&z===(F==null?void 0:(t=F.owner)==null?void 0:t.user_id):s&&Boolean((F==null?void 0:(t=F.owner)==null?void 0:t.page_id)!=null)&&z===(F==null?void 0:(t=F.owner)==null?void 0:t.page_id);q=N||!q&&!N&&!s;var T=t&&!N;t=(F==null?void 0:F.owner)&&(F==null?void 0:(s=F.owner)==null?void 0:s.page_id)!=null?d("FBShopsLegacyUpgradeProductTaggingUtils").getProductTaggingLegacyUpgradeStatus(F==null?void 0:F.owner):null;N=d("CometRouteParams").useRouteParams();s=c("useCurrentRoute")();s=(s=s==null?void 0:s.transparent)!=null?s:!1;var U=N.aymt_channel!==null&&N.aymt_channel!==void 0,V=o(!1);m(function(){U&&(V.current||ea({})),V.current=!0});N=d("CometRouteRenderType").useIsPushView();var W=d("CometWarningScreenContext").useParentRenderInstructions(),X=F==null?void 0:(u=F.image)==null?void 0:u.width,Y=F==null?void 0:(u=F.image)==null?void 0:u.height;u=c("useRoutePassthroughProps")();u=(u==null?void 0:u.glbFileURIHackToRenderAs3D_DO_NOT_USE)!=null?String(u==null?void 0:u.glbFileURIHackToRenderAs3D_DO_NOT_USE):null;var ha=n(function(){var a;return F==null||G==null||X==null||Y==null?null:j.jsx(c("CometImage.react"),{alt:(a=H)!=null?a:void 0,height:Y,src:G,width:X},G)},[F,G,X,Y,H]);if(G==null){c("recoverableViolation")("Error loading media. More investigation is needed, might be an invalid photo, a special type of MediaSet, or something else.","comet_ui");return h._("No valid photo to display.")}var Z=W==="CLIP_TO_MEDIA",$=f!=null?j.jsx(d("CometRelay").MatchContainer,{match:f,props:{alwaysShowDetails:!0,data:f,isFullScreenMediaPlayerStyle:!0,mediaUri:G,surface:"photo_viewer"}}):null,ia=(W=y)!=null?W:Y,ja=E&&D!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE,{className:c("stylex")(r.tagLayer,!w.tagModeEnabled&&r.noPointerEvents),children:j.jsx(ba,{isTaggingProducts:w.isProductTagging,photoTagLayerQueryReference:D,tagBoxSize:d("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,tagModeEnabled:w.tagModeEnabled})}))}):null,ka=c("CometVisualCompletionAttributes").MEDIA_VC_IMAGE;f=j.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return j.jsxs(j.Fragment,{children:[P,j.jsx(c("CometHero.react"),{description:"MainPhoto"}),j.jsx(c("CometPhotoViewerImgRenderer.react"),babelHelpers["extends"]({},ka,{alt:(b=H)!=null?b:void 0,currentImgSrc:G,height:(b=ia)!=null?b:void 0,origSrc:A,xstyle:a})),Z&&$,ja]})}});W=j.jsx(d("CometPagelet.react").Placeholder,{className:i,fallback:A!=null?j.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:y,imageUri:A,ref:g,showPlaceholderImage:A!=null&&B!=null&&y!=null&&!Q,width:B}):j.jsx("div",{className:i,ref:g,children:j.jsx(d("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){var b;return j.jsxs(j.Fragment,{children:[P,!Q&&j.jsx(c("CometImage.react"),{alt:(b=H)!=null?b:void 0,src:G,testid:void 0,xstyle:a},G)]})}})}),name:"MediaViewerPhoto",pageletType:"media",ref:g,children:j.jsx(d("CometRelay").MatchContainer,{fallback:f,match:F==null?void 0:F.comet_photo_renderer,props:{fallback:ha,glbFileURI:u}})},G);y=w.isProductTagging?c("stylex")(r.productTagInstructions):c("stylex")(r.tagInstruction);B=w.isProductTagging?h._("Click on the photo to start product tagging"):h._("Click on the photo to start tagging");i=E&&D!=null&&e===!0&&(F==null?void 0:F.comet_photo_renderer)==null;g=!Q&&(F==null?void 0:F.comet_photo_renderer)==null;return j.jsx("div",{className:c("stylex")(r.container),"data-testid":void 0,ref:x,children:j.jsxs(c("CometPhotoViewerContainerContext").Provider,{value:x,children:[j.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({backgroundColor:s&&N?"dark":"default",initialTracePolicy:a.initialTracePolicy,onNavigatePhoto:C,storyRenderLocation:fa,subOrigin:a.subOrigin},ga,{children:W})),g?j.jsx(ca,{authorId:J,canTag:i,fromAYMTRetroTagNotification:U,numNewAISuggestions:R,photoID:I,shouldShowPeopleTagButton:q,shouldShowProductTagButton:T,storyContainerId:M,upgradeShopModalInfo:t}):null,i&&w.tagModeEnabled?j.jsx(c("CometTheme.react"),{theme:"dark",xstyle:r.tagInstructionRow,children:j.jsxs("div",{className:y,children:[j.jsx("div",{className:c("stylex")(r.tagInstructionText),children:j.jsx("div",{className:T!==!0?c("stylex")(r.peopleTagInstructionText):null,children:j.jsx(c("TetraText.react"),{color:"primary",numberOfLines:1,type:"headline4",children:B})})}),j.jsx("div",{className:c("stylex")(r.tagDoneDiv),children:j.jsx(c("TetraButton.react"),{label:h._("Done Tagging"),onPress:O,testid:void 0,type:"primary"})})]})}):null,!Z&&$]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCastingControllerIfAvailable",["CastingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CastingContext").CastingControllerContext);return a}g["default"]=a}),98);
__d("useCastMediaIfCastSessionActive",["CastingStateHooks","CometRelay","react","recoverableViolation","useCastMediaIfCastSessionActive_media.graphql","useCastingControllerIfAvailable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useEffect;function a(a){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useCastMediaIfCastSessionActive_media.graphql"),a),f=c("useCastingControllerIfAvailable")(),g=d("CastingStateHooks").useIsCastingPhotoExperience();i(function(){if(f==null)return;if(!g)return;if((e==null?void 0:e.__typename)==null)return;(e==null?void 0:e.__typename)==="Photo"&&(e==null?void 0:e.id)!=null?f.showSingleMedia({photoID:e.id,type:"photo"}):(e==null?void 0:e.__typename)==="Video"&&(e==null?void 0:e.id)!=null?f.showSingleMedia({type:"video",videoID:e.id}):c("recoverableViolation")("Unsupported media type. Cast request will be ignored","comet_cast_sender")},[g,f,e])}g["default"]=a}),98);
__d("CometMediaViewer.react",["CometMediaViewerDispatcherContext","CometMediaViewerReducer","CometMediaViewerStage.react","CometMediaViewerVideoPlayerSurface.react","CometMediaViewerViewStateContext","CometMediaViewer_media.graphql","CometPhotoViewer.react","CometRelay","CometRouteRenderType","CometWarningScreenContext","VideoPlayerRelay.react","react","stylex","useCastMediaIfCastSessionActive","useCometDisplayTimingTracker","useCurrentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useReducer,k=[c("CometMediaViewerReducer")],l=function(a,b){a=a;for(var c=0;c<k.length;c++){var d=k[c];a=d(a,b)}return a};function a(a){var e,f=d("CometRouteRenderType").useIsPushView(),g=a.media,k=a.origHeight,m=a.origOverlayShown,n=a.origSrc,o=a.origWidth,p=a.photoTagLayerQueryReference,q=a.storyRenderLocation;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","origHeight","origOverlayShown","origSrc","origWidth","photoTagLayerQueryReference","storyRenderLocation"]);g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewer_media.graphql"),g);var r=j(l,{isHovered:!1,prevMouseX:0,prevMouseY:0,prevScale:1,scale:1,translateX:0,translateY:0}),s=r[0];r=r[1];var t=c("useCometDisplayTimingTracker")("MediaViewerVideo"),u=c("useRoutePassthroughProps")(),v=u==null?void 0:u.subOrigin,w=(u==null?void 0:u.initialTracePolicy)!=null?String(u==null?void 0:u.initialTracePolicy):null;u=u==null?void 0:u.portableVideoID;e=((e=g.cix_screen)==null?void 0:(e=e.view_model)==null?void 0:e.__typename)!=null;var x=(g==null?void 0:g.is_playable)===!0,y=c("useCurrentRoute")();y=(y=y==null?void 0:y.transparent)!=null?y:!1;c("useCastMediaIfCastSessionActive")(g);if(x){x=g==null?void 0:g.if_viewer_can_see_pay_to_access_paywall;f=i.jsx("div",{className:"l9j0dhe7 datstx6m buofh1pr cbu4d94t j83agx80","data-testid":void 0,children:i.jsx(c("CometMediaViewerStage.react"),babelHelpers["extends"]({},a,{backgroundColor:y?"dark":"default",initialTracePolicy:w,isPlayable:!0,storyRenderLocation:q,subOrigin:v,children:i.jsx("div",{className:c("stylex").dedupe({"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-grow-1":"buofh1pr","justify-content-1":"taijpn5t","width-1":"k4urcfbm"},f?{"height-1":"datstx6m"}:null,f?null:{"height-1":"mqzoxkkh"}),ref:t,children:x!=null?i.jsx(d("CometRelay").MatchContainer,{match:x}):i.jsx(c("VideoPlayerRelay.react"),{canAutoplay:e?"do_not_autoplay":"respect_user_settings",portalingEnabled:!0,portalingFromVideoID:u,portalingPlaceMetaData:{placeDescription:"media_viewer"},subOrigin:(y=v)!=null?y:"media_viewer",video:g,children:i.jsx(c("CometMediaViewerVideoPlayerSurface.react"),{data:g})})})}))})}else f=i.jsx(c("CometPhotoViewer.react"),babelHelpers["extends"]({initialTracePolicy:w,origHeight:k,origSrc:n,origWidth:o,photo:g,photoTagLayerQueryReference:p,showTag:!0,storyRenderLocation:q,subOrigin:v},a));return i.jsx(d("CometWarningScreenContext").CometWarningScreenContextProvider,{identifier:(t=g==null?void 0:g.id)!=null?t:"unknown",overlayExists:e,overlayShownOverride:m,children:i.jsx(c("CometMediaViewerViewStateContext").Provider,{value:s,children:i.jsx(c("CometMediaViewerDispatcherContext").Provider,{value:r,children:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerLayout.react",["CometMediaViewer.react","CometMediaViewerLayout_media.graphql","CometNewsfeedKeyCommandWidget","CometPageLayoutWithComplementaryContent.react","CometRelay","qex","react","useIsLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.media,f=a.rightRail;f=f===void 0?null:f;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","rightRail"]);var g=c("useIsLoggedOut")();e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMediaViewerLayout_media.graphql"),e);e=i.jsx(c("CometMediaViewer.react"),babelHelpers["extends"]({media:e},a));return i.jsx(c("CometNewsfeedKeyCommandWidget").Wrapper,{children:i.jsx(c("CometPageLayoutWithComplementaryContent.react"),{hideContainerBackground:(a=c("qex")._("1845616"))!=null?a:!1,isRightRailFixed:!0,rightRail:f,showShadowBar:!g,children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNoCursorMediaSetViewerRenderer.react",["CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker","CometMediaViewerLayout.react","CometNoCursorMediaSetViewerNextMediaFetcher.react","CometNoCursorMediaSetViewerPrevMediaFetcher.react","CometNoCursorMediaSetViewerRenderer_media.graphql","CometNoCursorMediaSetViewerRenderer_mediaset.graphql","CometPlaceholder.react","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useEffect,m=e.useState,n=h!==void 0?h:h=b("CometNoCursorMediaSetViewerRenderer_media.graphql"),o=i!==void 0?i:i=b("CometNoCursorMediaSetViewerRenderer_mediaset.graphql");function a(a){var b=a.media,e=a.mediaset,f=a.mediasetToken,g=a.prefetchForId;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","mediaset","mediasetToken","prefetchForId"]);b=d("CometRelay").useFragment(n,b);e=d("CometRelay").useFragment(o,e);var h=m(null),i=h[0],p=h[1];h=m(null);var q=h[0],r=h[1];h=m(d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL);var s=h[0],t=h[1];h=m(d("CometMediaSetViewerIndeterminateAdjoiningMediaURLMarker").INDETERMINATE_ADJOINING_MEDIA_URL);var u=h[0],v=h[1];l(function(){g!=null&&i!=null&&g(i)},[i,g]);l(function(){g!=null&&q!=null&&g(q)},[q,g]);h=k(function(a,b){p(a),t(b)},[]);var w=k(function(a,b){r(a),v(b)},[]);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometMediaViewerLayout.react"),babelHelpers["extends"]({},a,{media:b,nextMediaURI:s,prevMediaURI:u})),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometNoCursorMediaSetViewerNextMediaFetcher.react"),{mediaset:e,mediasetToken:f,onMediaObtained:h})}),j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("CometNoCursorMediaSetViewerPrevMediaFetcher.react"),{mediaset:e,mediasetToken:f,onMediaObtained:w})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerContextGlimmer.react",["BaseGlimmer.react","BaseLoadingStateElement.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"btwxx1t3",paddingBottom:"ihqw7lf3"},imageGlimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},imageSize48:{height:"m7zwrmfr",width:"tmrshh9y"},minutiaeGlimmer:{height:"cyypbtt7",width:"k4urcfbm"},minutiaeGlimmer2:{height:"cyypbtt7",width:"n99xedck"},roundedGlimmer:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi"},wrapper:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",justifyContent:"kwzhilbh",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"}};function a(){return h.jsxs(c("BaseLoadingStateElement.react"),{xstyle:i.container,children:[h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.imageGlimmer,i.imageSize48),index:1}),h.jsxs("div",{className:c("stylex")(i.wrapper),children:[h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.minutiaeGlimmer,i.roundedGlimmer),index:1}),h.jsx(c("BaseGlimmer.react"),{className:c("stylex")(i.minutiaeGlimmer2,i.roundedGlimmer),index:1})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerContextSectionActionWrapper.react",["fbt","CometErrorBoundary.react","CometMediaViewerContextGlimmer.react","CometMediaViewerContextSectionActionWrapperComposerQuery.graphql","CometMediaViewerContextSectionActionWrapper_media.graphql","CometMediaViewerContextSectionActionWrapper_story.graphql","CometMediaViewerRightRailUFIGlimmer.react","CometPlaceholder.react","CometRelay","TetraButton.react","deferredLoadComponent","react","requireDeferred","requireDeferredForDisplay","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("react");e=d("react");var m=e.useCallback,n=e.useEffect,o=e.useState;e=c("requireDeferred")("CometMediaViewerComposer.react").__setRef("CometMediaViewerContextSectionActionWrapper.react");var p=c("requireDeferredForDisplay")("CometMediaViewerContextSection.react").__setRef("CometMediaViewerContextSectionActionWrapper.react"),q=c("deferredLoadComponent")(e),r=c("deferredLoadComponent")(p),s=i!==void 0?i:i=b("CometMediaViewerContextSectionActionWrapperComposerQuery.graphql");function t(a){var b=a.isEditing,e=a.media,f=a.nodeID;a=a.setIsEditing;var g=m(function(a){var d=a.disabled;a=a.submitForm;return b?l.jsx(c("TetraButton.react"),{disabled:d,label:h._("Done Editing"),onPress:a,type:"primary"}):null},[b]),i=d("CometRelay").useLazyLoadQuery(s,{nodeID:f});i=i.node;if(i==null)throw c("unrecoverableViolation")("CometMediaViewerContextSectionActionWrapperComposerQuery: Could not find media with id: "+f,"comet_ui");var j=i.message;return l.jsx(q,{media:e,mediaType:(i==null?void 0:i.is_playable)===!0?"video":"photo",message:j!=null?j:void 0,nodeID:f,setIsEditing:a,submitButton:g})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var e=a.media,f=a.story;a=babelHelpers.objectWithoutPropertiesLoose(a,["media","story"]);var g=a.nodeID,i=o(!1),m=i[0],p=i[1];n(function(){p(!1)},[g]);i=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMediaViewerContextSectionActionWrapper_media.graphql"),e);e=d("CometRelay").useFragment(k!==void 0?k:k=b("CometMediaViewerContextSectionActionWrapper_story.graphql"),f);f=(f=i.can_viewer_edit)!=null?f:e==null?void 0:e.can_viewer_edit;return l.jsxs("div",{className:"dati1w0a f10w8fjw hv4rvrfc discj3wi","data-testid":void 0,children:[m?l.jsx("div",{className:"f10w8fjw",children:l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerContextGlimmer.react"),{}),children:l.jsx(t,{isEditing:m,media:i,nodeID:g,setIsEditing:p})})}):l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerContextGlimmer.react"),{}),children:l.jsx(r,{feedLocation:a.feedLocation,media:i})}),l.jsxs("div",{className:"j83agx80",children:[(e==null?void 0:e.post_promotion_info)!=null?l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMediaViewerRightRailUFIGlimmer.react"),{}),children:l.jsx(d("CometRelay").MatchContainer,{match:e.post_promotion_info,props:{targetID:e==null?void 0:e.legacy_story_hideable_id}})}):null,f===!0&&!m?l.jsx("div",{className:"pq6dq46d",children:l.jsx(c("TetraButton.react"),{label:h._("Edit"),onPress:function(){return p(!m)},type:"secondary"})}):null]})]})}u.displayName=u.name+" [from "+f.id+"]";function a(a){return l.jsx(c("CometErrorBoundary.react"),{children:l.jsx(u,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMediaViewerRightRail.react",["CometMediaViewerContextSectionActionWrapper.react","CometMediaViewerRightRailUFIGlimmer.react","CometMediaViewerRightRail_media.graphql","CometMediaViewerRightRail_story.graphql","CometPlaceholder.react","CometRelay","CometUFIFeedbackReactMutation","UFIReactionTypes","cometGetKeyCommandConfig","deferredLoadComponent","react","recoverableViolation","requireDeferredForDisplay","unrecoverableViolation","useLayerKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e=d("react");var k=e.useCallback,l=e.useMemo,m=e.useRef,n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometMediaViewerRightRailUFIWithTracking.react").__setRef("CometMediaViewerRightRail.react")),o=h!==void 0?h:h=b("CometMediaViewerRightRail_media.graphql"),p=i!==void 0?i:i=b("CometMediaViewerRightRail_story.graphql");function a(a){var b=a.feedbackSource,e=a.feedLocation,f=a.focusCommentID,g=a.media,h=a.nodeID,i=a.onActorSelected;a=a.story;g=d("CometRelay").useFragment(o,g);a=d("CometRelay").useFragment(p,a);var r=q(g),s=!Boolean(g==null?void 0:g.attached_comment);if(r==null)throw c("unrecoverableViolation")("props needs to contain a feedback object","comet_ui");var t=m(null),u=d("CometRelay").useRelayEnvironment(),v=k(function(){var a;if(r==null){c("recoverableViolation")("No feedback for the media is associated with it","comet_ui");return}var e=r==null?void 0:r.id;a=r==null?void 0:(a=r.viewer_actor)==null?void 0:a.id;if(e==null||b==null){c("recoverableViolation")("No Feedback data is associated with it","comet_ui");return}if(a==null){c("recoverableViolation")("No actor id is associated with it","comet_ui");return}a=r==null?void 0:r.viewer_feedback_reaction_info;a!=null?a={feedback_id:e,feedback_reaction:c("UFIReactionTypes").NONE,feedback_source:b}:a={feedback_id:e,feedback_reaction:c("UFIReactionTypes").LIKE,feedback_source:b};t.current=d("CometUFIFeedbackReactMutation").commit({environment:u,input:a,onError:function(){},useDefaultActor:!1})},[u,r,b]),w=l(function(){var a=r.can_viewer_react===!0,b=[];a&&b.push(d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("photoViewer","like",v));return b},[r.can_viewer_react,v]);c("useLayerKeyCommands")(w);return j.jsxs(j.Fragment,{children:[j.jsx(d("CometRelay").MatchContainer,{match:g.copyright_banner_info,props:{mediaIds:[h],source:"media_viewer"}}),j.jsx(c("CometMediaViewerContextSectionActionWrapper.react"),{feedLocation:e,media:g,nodeID:h,story:a}),j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("CometMediaViewerRightRailUFIGlimmer.react"),{}),children:j.jsx(n,{displayCommentsContext:null,feedLocation:e,feedback:r,feedbackSource:b,focusCommentID:(w=f)!=null?w:null,isTextOnlyStory:!0,onActorSelected:i,pendingTags:g.__typename==="Photo"?g:null,shareable:s?(h=g)!=null?h:null:null},(a=r==null?void 0:r.id)!=null?a:""+((f=r==null?void 0:(e=r.viewer_actor)==null?void 0:e.id)!=null?f:""))})]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b;b=(a==null?void 0:(b=a.attached_comment)==null?void 0:b.is_quilt_cap_contribution_container_comment)===!0;if(b){return a==null?void 0:(b=a.attached_comment)==null?void 0:(b=b.parent_post_story)==null?void 0:b.feedback}return(b=a==null?void 0:(b=a.attached_comment)==null?void 0:b.feedback)!=null?b:a==null?void 0:a.feedback}g["default"]=a}),98);
__d("mediaViewerPrefetch",["CometRelay","JSScheduler","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){d("JSScheduler").scheduleLoggingPriCallback(function(){var f=d("relay-runtime").createOperationDescriptor(d("relay-runtime").getRequest(b),e),g=a.check(f).status==="available";g||c("promiseDone")(d("CometRelay").fetchQuery(a,b,f.request.variables).toPromise())})}g["default"]=a}),98);